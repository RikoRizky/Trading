(()=>{var e={};e.id=9028,e.ids=[9028],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},81078:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var n=r(50482),s=r(69108),a=r(62563),i=r.n(a),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(content)",{children:["payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27074)),"D:\\PROJECT VSC\\Trading (1)\\Trading\\src\\app\\(content)\\payment\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7543)),"D:\\PROJECT VSC\\Trading (1)\\Trading\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\PROJECT VSC\\Trading (1)\\Trading\\src\\app\\(content)\\payment\\page.tsx"],u="/(content)/payment/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(content)/payment/page",pathname:"/payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},47919:(e,t,r)=>{Promise.resolve().then(r.bind(r,61899))},61899:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(95344),s=r(3729),a=r(22254),i=r(26215),o=r(41179);let l=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});function c(){let[e,t]=(0,s.useState)(!1),[r,c]=(0,s.useState)("pending");(0,a.useRouter)();let d=(0,a.useSearchParams)(),{user:u}=(0,i.useAuth)(),p=d.get("plan"),m={"1month":{name:"1 Month",duration:"30 days",price:5e4},"3months":{name:"3 Months",duration:"90 days",price:12e4},"1year":{name:"1 Year",duration:"365 days",price:4e5}};(0,s.useEffect)(()=>{let e=document.createElement("script");return e.src="https://app.sandbox.midtrans.com/snap/snap.js",e.setAttribute("data-client-key","Mid-client-GOvhF4492RPMa48O"),document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]);let x=async()=>{if(p&&u){t(!0);try{let e=m[p],t=await fetch("/api/midtrans/route",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:e.price,plan:p,name:u.user_metadata?.name||u.email,email:u.email,description:`Upgrade Premium - ${e.name}`})});(await t.json()).token?alert("Midtrans not loaded yet. Please wait a moment..."):alert("Failed to create transaction")}catch(e){console.error("Payment error:",e),c("failed")}finally{t(!1)}}},g=p?m[p]:null;return g?n.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-10 w-full max-w-md text-center",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Checkout Premium Plan"}),(0,n.jsxs)("p",{className:"text-gray-600 mb-4",children:[g.name," â€” Rp ",g.price.toLocaleString()]}),"success"===r?(0,n.jsxs)("div",{className:"text-center text-green-600",children:[n.jsx(o.Z,{className:"h-16 w-16 mx-auto mb-2"}),n.jsx("p",{className:"text-lg font-semibold",children:"Payment Successful!"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Redirecting to dashboard..."})]}):"failed"===r?(0,n.jsxs)("div",{className:"text-center text-red-600",children:[n.jsx(l,{className:"h-16 w-16 mx-auto mb-2"}),n.jsx("p",{className:"text-lg font-semibold",children:"Payment Failed"}),n.jsx("button",{onClick:x,className:"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg transition",children:"Try Again"})]}):n.jsx("button",{onClick:x,disabled:e,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg transition w-full",children:e?"Processing...":"Pay Now"})]})}):n.jsx("p",{className:"text-center mt-20",children:"Invalid Plan"})}},27074:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>s,default:()=>i});let n=(0,r(86843).createProxy)(String.raw`D:\PROJECT VSC\Trading (1)\Trading\src\app\(content)\payment\page.tsx`),{__esModule:s,$$typeof:a}=n,i=n.default},41179:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3729);let s=n.forwardRef(function({title:e,titleId:t,...r},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[6225,9159,4084],()=>r(81078));module.exports=n})();