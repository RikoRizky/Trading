"use strict";(()=>{var e={};e.id=6543,e.ids=[6543],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},67658:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>j,patchFetch:()=>h,requestAsyncStorage:()=>f,routeModule:()=>p,serverHooks:()=>x,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>q});var a={};r.r(a),r.d(a,{GET:()=>c,POST:()=>l});var s=r(95419),n=r(69108),o=r(99678),i=r(78070),u=r(57699),d=r(32455);async function c(){let e=(0,u.createRouteHandlerClient)({cookies:d.cookies}),{data:t,error:r}=await e.from("faqs").select("*").order("order_index",{ascending:!0});return r?i.Z.json({error:r.message},{status:500}):i.Z.json(t)}async function l(e){let t=(0,u.createRouteHandlerClient)({cookies:d.cookies}),{question:r,answer:a,order_index:s}=await e.json().catch(()=>({}));if(!r||!a)return i.Z.json({error:"question dan answer wajib"},{status:400});let{data:n}=await t.auth.getUser(),o=n?.user;if(!o)return i.Z.json({error:"Unauthorized"},{status:401});let{data:c,error:l}=await t.from("profiles").select("is_admin").eq("id",o.id).single();if(l||!c?.is_admin)return i.Z.json({error:"Forbidden: admin only"},{status:403});let{data:p,error:f}=await t.from("faqs").insert([{question:r,answer:a,order_index:s??1}]);return f?i.Z.json({error:f.message},{status:500}):i.Z.json(p,{status:201})}let p=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/faq/route",pathname:"/api/faq",filename:"route",bundlePath:"app/api/faq/route"},resolvedPagePath:"/Users/rikorizky/Documents/Aplikasi Trading/Trading/src/app/api/faq/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:f,staticGenerationAsyncStorage:m,serverHooks:x,headerHooks:g,staticGenerationBailout:q}=p,j="/api/faq/route";function h(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[6225,6349,6206],()=>r(67658));module.exports=a})();