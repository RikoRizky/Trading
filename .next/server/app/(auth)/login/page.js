(()=>{var e={};e.id=4665,e.ids=[4665],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},90591:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=t(50482),a=t(69108),i=t(62563),n=t.n(i),o=t(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,52169)),"D:\\PROJECT VSC\\Trading (1)\\Trading\\src\\app\\(auth)\\login\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7543)),"D:\\PROJECT VSC\\Trading (1)\\Trading\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\PROJECT VSC\\Trading (1)\\Trading\\src\\app\\(auth)\\login\\page.tsx"],u="/(auth)/login/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},85239:(e,r,t)=>{Promise.resolve().then(t.bind(t,3473))},3473:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var s=t(95344),a=t(3729),i=t(20783),n=t.n(i),o=t(22254),l=t(60708),c=t(25750),d=t(44669),u=t(47623),m=t(67993),p=t(99072);function h(){let[e,r]=(0,a.useState)(!1),[t,i]=(0,a.useState)(!1),h=(0,o.useRouter)();(0,a.useEffect)(()=>{try{document.cookie="recovery=; Max-Age=0; path=/; SameSite=Lax"}catch{}},[]);let{register:x,handleSubmit:f,formState:{errors:g}}=(0,l.cI)(),w=async e=>{r(!0);try{let r=await (0,c.zB)(e.email,e.password),t=r?.user;if(!t){d.toast.error("No user session found");return}let{data:s,error:a}=await (0,p.eI)("https://fkpajnzopbavijpcsnkr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZrcGFqbnpvcGJhdmlqcGNzbmtyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc4NzAyOTIsImV4cCI6MjA3MzQ0NjI5Mn0.ibxvB4_6ohteqN-yzfuGcT6Okx_oGhXbqaQ1xsCPEkY").from("profiles").select("is_admin").eq("id",t.id).single();if(a){console.error(a),d.toast.error("Failed to load profile");return}d.toast.success("Welcome!"),s?.is_admin===!0?h.push("/admin"):h.push("/")}catch(e){d.toast.error("An unexpected error occurred"),console.error("Login error:",e)}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-indigoSteel-dark via-indigoSteel-light to-indigoSteel-dark py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Sign in to your account"}),(0,s.jsxs)("p",{className:"mt-2 text-center text-sm text-white/80",children:["Or"," ",s.jsx(n(),{href:"/register",className:"font-medium text-primary-400 hover:text-primary-300",children:"create a new account"})]})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:f(w),children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),s.jsx("input",{...x("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}}),type:"email",autoComplete:"email",className:"input",placeholder:"Enter your email"}),g.email&&s.jsx("p",{className:"form-error",children:g.email.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{...x("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:t?"text":"password",autoComplete:"current-password",className:"input pr-10",placeholder:"Enter your password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!t),children:t?s.jsx(u.Z,{className:"h-5 w-5 text-gray-400"}):s.jsx(m.Z,{className:"h-5 w-5 text-gray-400"})})]}),g.password&&s.jsx("p",{className:"form-error",children:g.password.message})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-white/80",children:"Remember me"})]}),s.jsx("div",{className:"text-sm",children:s.jsx(n(),{href:"/forgot-password",className:"font-medium text-primary-400 hover:text-primary-300",children:"Forgot your password?"})})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:e,className:"btn btn-primary btn-lg w-full",children:e?"Signing in...":"Sign in"})}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white/10 text-white/80",children:"Or continue with"})})]}),s.jsx("div",{className:"mt-6",children:(0,s.jsxs)("button",{type:"button",className:"btn btn-outline btn-lg w-full",onClick:async()=>{try{let{error:e}=await (0,c.qj)();e&&d.toast.error(e.message||"Failed to sign in with Google")}catch(e){d.toast.error("An unexpected error occurred"),console.error("Google sign in error:",e)}},children:[(0,s.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]})]})]})})}},25750:(e,r,t)=>{"use strict";t.d(r,{GJ:()=>m,Kq:()=>p,c0:()=>u,ck:()=>c,gQ:()=>d,kv:()=>h,qj:()=>o,w7:()=>l,y1:()=>i,zB:()=>n});var s=t(73890);async function a(){let e=(0,s.e)();try{let{data:r,error:t}=await e.auth.getUser(),s=r?.user;if(t||!s)return{user:null,profile:null};let{data:a,error:i}=await e.from("profiles").select("*").eq("id",s.id).single();if(i)return console.error("Failed to fetch profile:",i),{user:s,profile:null};return{user:s,profile:a}}catch(e){return console.error("getCurrentUser() failed:",e),{user:null,profile:null}}}async function i(e,r,t){let a=(0,s.e)();return await a.auth.signUp({email:e,password:r,options:{data:{full_name:t},emailRedirectTo:`${location.origin}/auth/callback`}})}async function n(e,r){let t=(0,s.e)(),{data:a,error:i}=await t.auth.signInWithPassword({email:e,password:r});if(i)throw i;if(a.user&&null===a.user.email_confirmed_at)throw Error("Email belum diverifikasi. Silakan cek inbox.");return a}async function o(){let e=(0,s.e)();return await e.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}})}async function l(){let e=(0,s.e)();return await e.auth.signOut()}async function c(e){let r=(0,s.e)(),{data:t,error:a}=await r.auth.getUser(),i=t?.user;return a||!i?{error:a||Error("No authenticated user")}:await r.from("profiles").update(e).eq("id",i.id).select().single()}async function d(e){let r=(0,s.e)();return await r.auth.updateUser({password:e})}async function u(e){let r=(0,s.e)();return await r.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/reset-password`})}async function m(){let{profile:e}=await a();return!!e?.is_admin}async function p(e){let r=(0,s.e)();return await r.from("profiles").update({is_admin:!0}).eq("id",e)}async function h(e){let r=(0,s.e)();return await r.from("profiles").update({is_admin:!1}).eq("id",e)}},52169:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let s=(0,t(86843).createProxy)(String.raw`D:\PROJECT VSC\Trading (1)\Trading\src\app\(auth)\login\page.tsx`),{__esModule:a,$$typeof:i}=s,n=s.default},67993:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(3729);let a=s.forwardRef(function({title:e,titleId:r,...t},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},47623:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(3729);let a=s.forwardRef(function({title:e,titleId:r,...t},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[6225,9159,708,4084],()=>t(90591));module.exports=s})();