(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[728],{4947:function(e,t,s){Promise.resolve().then(s.bind(s,3811))},3811:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(7437),n=s(2265),l=s(1396),a=s.n(l);function c(){let[e,t]=(0,n.useState)([]);async function s(){let e=await fetch("/api/module");t(await e.json())}async function l(e){confirm("Delete this module?")&&(await fetch("/api/module/".concat(e),{method:"DELETE"}),s())}return(0,n.useEffect)(()=>{s()},[]),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Modules"}),(0,r.jsx)(a(),{href:"/admin/module/new",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"+ New"})]}),(0,r.jsxs)("table",{className:"w-full border",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100 text-left",children:[(0,r.jsx)("th",{className:"p-2",children:"Title"}),(0,r.jsx)("th",{className:"p-2",children:"Course"}),(0,r.jsx)("th",{className:"p-2",children:"Order"}),(0,r.jsx)("th",{className:"p-2",children:"Updated"}),(0,r.jsx)("th",{className:"p-2",children:"Action"})]})}),(0,r.jsx)("tbody",{children:e.map(e=>{var t;return(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("td",{className:"p-2",children:e.title}),(0,r.jsx)("td",{className:"p-2",children:e.course_id}),(0,r.jsx)("td",{className:"p-2",children:e.order_index}),(0,r.jsx)("td",{className:"p-2",children:null===(t=e.updated_at)||void 0===t?void 0:t.slice(0,10)}),(0,r.jsxs)("td",{className:"p-2 flex gap-2",children:[(0,r.jsx)(a(),{href:"/admin/module/".concat(e.id,"/edit"),className:"text-blue-600",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>l(e.id),className:"text-red-600",children:"Delete"})]})]},e.id)})})]})]})}},622:function(e,t,s){"use strict";var r=s(2265),n=Symbol.for("react.element"),l=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,s){var r,l={},d=null,o=null;for(r in void 0!==s&&(d=""+s),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(o=t.ref),t)a.call(t,r)&&!i.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:n,type:e,key:d,ref:o,props:l,_owner:c.current}}t.Fragment=l,t.jsx=d,t.jsxs=d},7437:function(e,t,s){"use strict";e.exports=s(622)},1396:function(e,t,s){e.exports=s(5250)}},function(e){e.O(0,[250,971,938,744],function(){return e(e.s=4947)}),_N_E=e.O()}]);