(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{2791:function(e,t,r){Promise.resolve().then(r.bind(r,7941))},7941:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var l=r(7437),s=r(2265),i=r(4033),n=r(1122);function a(){let[e,t]=(0,s.useState)(null),r=(0,i.useRouter)(),{user:a,profile:o,loading:c}=(0,n.useAuth)();(0,s.useEffect)(()=>{if(!c&&!a){r.push("/login");return}if(!c&&a&&(null==o?void 0:o.membership_type)==="premium"){r.push("/dashboard");return}},[a,o,c,r]);let d=[{id:"1month",name:"1 Month",duration:"30 days",price:5e4,originalPrice:null,discount:null,popular:!1,features:["Access to all premium videos","Complete trading blog","Daily market analysis","24/7 support"]},{id:"3months",name:"3 Months",duration:"90 days",price:12e4,originalPrice:15e4,discount:"20%",popular:!0,features:["All 1 month features","In-depth analysis","Exclusive trading strategies","Priority support","Bonus: Trading e-book"]},{id:"1year",name:"1 Year",duration:"365 days",price:4e5,originalPrice:6e5,discount:"33%",popular:!1,features:["All 3 month features","Personal mentoring","Real-time trading signals","VIP group access","Bonus: Online workshop","Bonus: Premium trading tools"]}],u=async e=>{t(e);try{let t=d.find(t=>t.id===e);if(!t)return;if(console.log("User:",a),console.log("Profile:",o),!a){alert("Please login first");return}let r=await fetch("/api/midtrans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t.price,plan:e,description:"".concat(t.name," Premium Subscription"),name:(null==o?void 0:o.full_name)||"User",email:(null==a?void 0:a.email)||""})}),l=await r.json();console.log("API Response:",l),l.token?window.location.href="https://app.sandbox.midtrans.com/snap/v2/vtweb/".concat(l.token):(console.error("Payment creation failed:",l.error),alert("Failed to create payment: ".concat(l.error||"Unknown error")))}catch(e){console.error("Error creating payment:",e),alert("An error occurred: ".concat(e instanceof Error?e.message:"Unknown error"))}};return c?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-r from-indigoSteel-dark via-indigoSteel-light to-indigoSteel-dark flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-white",children:"Loading..."})]})}):a?(0,l.jsx)("div",{className:"min-h-screen py-12 bg-gradient-to-r from-indigoSteel-dark via-indigoSteel-light to-indigoSteel-dark",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z",clipRule:"evenodd"})})}),(0,l.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Upgrade to Premium"}),(0,l.jsx)("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:"Choose the premium package that suits your trading needs"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:d.map(t=>(0,l.jsxs)("div",{className:"relative bg-white/10 backdrop-blur-md rounded-2xl shadow-lg p-8 flex flex-col border border-white/20 ".concat(t.popular?"border-2 border-yellow-500":""),children:[t.popular&&(0,l.jsx)("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:(0,l.jsx)("span",{className:"bg-yellow-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:t.name}),(0,l.jsx)("p",{className:"text-white/80 mb-4",children:t.duration}),(0,l.jsxs)("div",{className:"mb-4",children:[t.originalPrice&&(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,l.jsxs)("span",{className:"text-lg text-white/70 line-through",children:["Rp ",t.originalPrice.toLocaleString()]}),(0,l.jsxs)("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:["Save ",t.discount]})]}),(0,l.jsxs)("div",{className:"text-4xl font-bold text-white",children:["Rp ",t.price.toLocaleString()]})]})]}),(0,l.jsx)("ul",{className:"space-y-3 mb-8 flex-1",children:t.features.map((e,t)=>(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("svg",{className:"h-5 w-5 text-green-400 mr-3 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"text-white/90",children:e})]},t))}),(0,l.jsx)("button",{onClick:()=>u(t.id),className:"w-full py-3 px-4 rounded-xl font-semibold transition ".concat(t.popular?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-white/20 hover:bg-white/30 text-white backdrop-blur-md"),children:e===t.id?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"h-5 w-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Processing..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"h-5 w-5 mr-2 inline",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z",clipRule:"evenodd"})}),"Choose This Package"]})})]},t.id))}),(0,l.jsxs)("div",{className:"mt-16",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:"Why Choose Premium?"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)("svg",{className:"h-8 w-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z",clipRule:"evenodd"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Exclusive Content"}),(0,l.jsx)("p",{className:"text-white/80",children:"Access to premium video tutorials, secret trading strategies, and in-depth analysis not available to free users."})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)("svg",{className:"h-8 w-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z",clipRule:"evenodd"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Professional Analysis"}),(0,l.jsx)("p",{className:"text-white/80",children:"Get daily market analysis, real-time trading signals, and investment recommendations from experts."})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)("svg",{className:"h-8 w-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Priority Support"}),(0,l.jsx)("p",{className:"text-white/80",children:"Get 24/7 support from expert team, personal mentoring, and access to VIP trader community."})]})]})]})]})}):null}},1122:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return a},useAuth:function(){return o}});var l=r(7437),s=r(2265),i=r(1097);let n=(0,s.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,s.useState)(null),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),h=(0,i.e)();(0,s.useEffect)(()=>{let e=async e=>{try{let{data:t,error:r}=await h.from("profiles").select("*").eq("id",e).single();r?console.error("Error fetching profile:",r):c(t)}catch(e){console.error("Error in fetchProfile:",e)}};(async()=>{try{let{data:{session:t},error:r}=await h.auth.getSession();r?console.error("Error getting session:",r):(null==t?void 0:t.user)&&(a(t.user),await e(t.user.id))}catch(e){console.error("Error in getInitialSession:",e)}finally{u(!1)}})();let{data:{subscription:t}}=h.auth.onAuthStateChange(async(t,r)=>{"SIGNED_IN"===t&&(null==r?void 0:r.user)?(a(r.user),await e(r.user.id)):"SIGNED_OUT"===t&&(a(null),c(null)),u(!1)});return()=>{t.unsubscribe()}},[h.auth]);let m=async()=>{try{let{error:e}=await h.auth.signOut();e&&console.error("Error signing out:",e)}catch(e){console.error("Error in signOut:",e)}},x=async()=>{if(r)try{let{data:e,error:t}=await h.from("profiles").select("*").eq("id",r.id).single();t?console.error("Error refreshing profile:",t):c(e)}catch(e){console.error("Error in refreshProfile:",e)}};return(0,l.jsx)(n.Provider,{value:{user:r,profile:o,loading:d,signOut:m,refreshProfile:x},children:t})}function o(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1097:function(e,t,r){"use strict";r.d(t,{e:function(){return s}});var l=r(3082);let s=()=>(0,l.createClientComponentClient)()},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[653,82,971,938,744],function(){return e(e.s=2791)}),_N_E=e.O()}]);