(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{657:function(e,t,r){Promise.resolve().then(r.bind(r,7911))},7911:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(7437),i=r(2265),a=r(4033),s=r(1122);let l=i.forwardRef(function({title:e,titleId:t,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}),o=i.forwardRef(function({title:e,titleId:t,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}),c=i.forwardRef(function({title:e,titleId:t,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}),d=i.forwardRef(function({title:e,titleId:t,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}),u=i.forwardRef(function({title:e,titleId:t,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});var h=r(7805);function m(){var e,t,r;let[m,x]=(0,i.useState)(!1),[g,f]=(0,i.useState)(""),[v,p]=(0,i.useState)(null),[b,j]=(0,i.useState)(null),[y,w]=(0,i.useState)(!1),N=(0,a.useRouter)(),k=(0,a.useSearchParams)(),{user:E,profile:S,loading:C}=(0,s.useAuth)(),M=k.get("plan"),P=[{id:"qris",name:"QRIS",description:"Pay by scanning QR Code",icon:l,color:"bg-blue-500",popular:!0,requiresSelection:!1},{id:"gopay",name:"GoPay",description:"Pay with GoPay",icon:o,color:"bg-green-500",requiresSelection:!1},{id:"ovo",name:"OVO",description:"Pay with OVO",icon:o,color:"bg-purple-500",requiresSelection:!1},{id:"dana",name:"DANA",description:"Pay with DANA",icon:o,color:"bg-blue-600",requiresSelection:!1},{id:"bank_transfer",name:"Bank Transfer",description:"Transfer to bank account",icon:c,color:"bg-gray-600",requiresSelection:!0,options:[{id:"bca",name:"BCA",account:"1234567890"},{id:"mandiri",name:"Mandiri",account:"0987654321"},{id:"bni",name:"BNI",account:"1122334455"},{id:"bri",name:"BRI",account:"5544332211"}]},{id:"debit_card",name:"Debit Card",description:"Pay with debit card",icon:d,color:"bg-indigo-500",requiresSelection:!0,options:[{id:"visa_debit",name:"Visa Debit"},{id:"mastercard_debit",name:"Mastercard Debit"}]}];(0,i.useEffect)(()=>{if(!C&&!E){N.push("/login");return}if(!C&&!M){N.push("/upgrade");return}},[E,M,C,N]);let A=e=>{p(e),j(null);let t=P.find(t=>t.id===e);(null==t?void 0:t.requiresSelection)?w(!1):w(!0)},Z=e=>{j(e),w(!0)};if(C)return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});if(!E||!M)return null;let L={"1month":{name:"1 Bulan",duration:"30 hari",price:5e4},"3months":{name:"3 Bulan",duration:"90 hari",price:12e4},"1year":{name:"1 Tahun",duration:"365 hari",price:4e5}}[M];return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsxs)("button",{onClick:()=>N.push("/upgrade"),className:"flex items-center text-gray-600 hover:text-gray-800 mb-8",children:[(0,n.jsx)(u,{className:"h-5 w-5 mr-2"}),"Back to Choose Package"]}),(0,n.jsxs)("div",{className:"text-center mb-12",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Choose Payment Method"}),(0,n.jsxs)("p",{className:"text-xl text-gray-600",children:["Complete payment for ",null==L?void 0:L.name," package"]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Premium Package"}),(0,n.jsx)("span",{className:"font-medium",children:null==L?void 0:L.name})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Duration"}),(0,n.jsx)("span",{className:"font-medium",children:null==L?void 0:L.duration})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Price"}),(0,n.jsxs)("span",{className:"font-medium",children:["Rp ",null==L?void 0:L.price.toLocaleString()]})]}),(0,n.jsx)("hr",{className:"my-4"}),(0,n.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[(0,n.jsx)("span",{children:"Total"}),(0,n.jsxs)("span",{className:"text-indigo-600",children:["Rp ",null==L?void 0:L.price.toLocaleString()]})]})]})]}),(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Payment Methods"}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(e=>{let t=e.icon;return(0,n.jsxs)("div",{className:"relative bg-white rounded-xl border-2 p-6 cursor-pointer transition-all hover:shadow-lg ".concat(v===e.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"),onClick:()=>A(e.id),children:[e.popular&&(0,n.jsx)("div",{className:"absolute -top-2 -right-2",children:(0,n.jsx)("span",{className:"bg-yellow-500 text-white text-xs px-2 py-1 rounded-full",children:"Popular"})}),(0,n.jsxs)("div",{className:"flex items-center mb-3",children:[(0,n.jsx)("div",{className:"w-12 h-12 ".concat(e.color," rounded-lg flex items-center justify-center mr-4"),children:(0,n.jsx)(t,{className:"h-6 w-6 text-white"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]}),v===e.id&&(0,n.jsxs)("div",{className:"flex items-center text-indigo-600",children:[(0,n.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Selected"})]})]},e.id)})})]}),v&&(null===(e=P.find(e=>e.id===v))||void 0===e?void 0:e.requiresSelection)&&(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"bank_transfer"===v?"Select Bank":"Select Card Type"}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null===(r=P.find(e=>e.id===v))||void 0===r?void 0:null===(t=r.options)||void 0===t?void 0:t.map(e=>(0,n.jsx)("div",{className:"bg-white rounded-xl border-2 p-4 cursor-pointer transition-all hover:shadow-lg ".concat(b===e.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"),onClick:()=>Z(e.id),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),"account"in e&&e.account&&(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Account: ",e.account]})]}),b===e.id&&(0,n.jsx)(h.Z,{className:"h-5 w-5 text-indigo-600"})]})},e.id))})]}),y&&(0,n.jsx)("div",{className:"mb-8 text-center",children:(0,n.jsx)("button",{onClick:()=>{let e=b?"".concat(v,"_").concat(b):v;N.push("/payment?plan=".concat(M,"&method=").concat(e))},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl font-semibold text-lg transition-colors",children:"Confirm Payment"})}),(0,n.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6",children:[(0,n.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Payment Information"}),(0,n.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,n.jsx)("li",{children:"• Secure and encrypted payment"}),(0,n.jsx)("li",{children:"• Premium access activated after successful payment"}),(0,n.jsx)("li",{children:"• 24/7 support for payment assistance"}),(0,n.jsx)("li",{children:"• All transactions are protected and secure"})]})]}),g&&(0,n.jsx)("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,n.jsx)("p",{className:"text-green-800",children:g})})]})})}},1122:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return l},useAuth:function(){return o}});var n=r(7437),i=r(2265),a=r(1097);let s=(0,i.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,i.useState)(null),[o,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(!0),h=(0,a.e)();(0,i.useEffect)(()=>{let e=async e=>{try{let{data:t,error:r}=await h.from("profiles").select("*").eq("id",e).single();r?console.error("Error fetching profile:",r):c(t)}catch(e){console.error("Error in fetchProfile:",e)}};(async()=>{try{let{data:{session:t},error:r}=await h.auth.getSession();r?console.error("Error getting session:",r):(null==t?void 0:t.user)&&(l(t.user),await e(t.user.id))}catch(e){console.error("Error in getInitialSession:",e)}finally{u(!1)}})();let{data:{subscription:t}}=h.auth.onAuthStateChange(async(t,r)=>{"SIGNED_IN"===t&&(null==r?void 0:r.user)?(l(r.user),await e(r.user.id)):"SIGNED_OUT"===t&&(l(null),c(null)),u(!1)});return()=>{t.unsubscribe()}},[h.auth]);let m=async()=>{try{let{error:e}=await h.auth.signOut();e&&console.error("Error signing out:",e)}catch(e){console.error("Error in signOut:",e)}},x=async()=>{if(r)try{let{data:e,error:t}=await h.from("profiles").select("*").eq("id",r.id).single();t?console.error("Error refreshing profile:",t):c(e)}catch(e){console.error("Error in refreshProfile:",e)}};return(0,n.jsx)(s.Provider,{value:{user:r,profile:o,loading:d,signOut:m,refreshProfile:x},children:t})}function o(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1097:function(e,t,r){"use strict";r.d(t,{e:function(){return i}});var n=r(3082);let i=()=>(0,n.createClientComponentClient)()},4033:function(e,t,r){e.exports=r(5313)},7805:function(e,t,r){"use strict";var n=r(2265);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))});t.Z=i}},function(e){e.O(0,[872,82,971,938,744],function(){return e(e.s=657)}),_N_E=e.O()}]);